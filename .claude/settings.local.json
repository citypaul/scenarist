{
  "permissions": {
    "allow": [
      "Bash(git restore:*)",
      "Bash(pnpm test:*)",
      "Bash(pnpm build:*)",
      "Bash(pnpm exec vitest:*)",
      "Bash(git rm:*)",
      "Bash(gh api:*)",
      "Bash(pnpm test:coverage:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(core): implement template injection for Phase 3\n\nAdd template replacement engine for stateful mock responses:\n\n**Template Replacement Engine:**\n- Created `template-replacement.ts` domain utility\n- Supports `{{state.key}}` pattern detection and replacement\n- Nested path templates: `{{state.user.profile.name}}`\n- Array length templates: `{{state.items.length}}`\n- Missing state keys remain as templates (graceful degradation)\n- Recursive application to objects and arrays\n\n**Integration with ResponseSelector:**\n- Apply templates to response bodies after state capture\n- Templates injected from current state per test ID\n- Works with single responses and sequences\n- Backward compatible (no templates if no state manager)\n\n**Tests:**\n- 11 template replacement unit tests (100% coverage)\n- 7 integration tests in response-selector.test.ts\n- Tests cover: basic injection, nested paths, array length,\n  missing keys, capture+inject, sequences with templates\n\n**Test Results:**\n- 134 tests passing (up from 116)\n- 100% test coverage maintained\n- All edge cases covered (null traversal, non-object traversal)\n\nRelated to #32\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat(core): add state reset on scenario switch for Phase 3\n\nImplement automatic state cleanup when switching scenarios to ensure\neach scenario starts with a clean slate.\n\n**ScenarioManager Updates:**\n- Accept optional `stateManager` parameter via dependency injection\n- Call `stateManager.reset(testId)` after successful scenario switch\n- Maintains backward compatibility (no-op when stateManager not provided)\n- Follows hexagonal architecture (port injected, not created internally)\n\n**State Reset Behavior:**\n- State cleared only on successful scenario switch\n- Failed switches (e.g., scenario not found) do NOT clear state\n- State isolated per test ID (switching test-1 doesn''t affect test-2)\n- Clean slate for each scenario prevents cross-contamination\n\n**Tests:**\n- 4 new tests in scenario-manager.test.ts\n- Test state reset on successful switch\n- Test state NOT reset on failed switch\n- Test backward compatibility (no state manager)\n- Test per-test-ID isolation\n\n**Test Results:**\n- 138 tests passing (up from 134, +4 tests)\n- 100% test coverage maintained\n- All edge cases covered\n\n**Implementation Notes:**\n- State reset happens AFTER scenario is set in store\n- Only resets if stateManager is provided (optional dependency)\n- Enables stateful scenarios to work correctly across switches\n\nRelated to Phase 3: Stateful Mocks (PR #33)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(gh pr list:*)",
      "Bash(xargs:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr view:*)"
    ],
    "deny": [],
    "ask": []
  }
}
